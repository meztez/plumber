<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Package Plumber Router — Plumber • plumber</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Package Plumber Router — Plumber" />
<meta property="og:description" content="Package Plumber Router
Package Plumber Router" />
<meta property="og:image" content="https://www.rplumber.io/logo.svg" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plumber</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.0.0.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/quickstart.html">Quickstart</a>
    </li>
    <li>
      <a href="../articles/routing-and-input.html">Routing &amp; Input</a>
    </li>
    <li>
      <a href="../articles/rendering-output.html">Rendering Output</a>
    </li>
    <li>
      <a href="../articles/execution-model.html">Runtime</a>
    </li>
    <li>
      <a href="../articles/security.html">Security</a>
    </li>
    <li>
      <a href="../articles/hosting.html">Hosting</a>
    </li>
    <li>
      <a href="../articles/programmatic-usage.html">Programmatic Usage</a>
    </li>
    <li>
      <a href="../articles/tips-and-tricks.html">Tips &amp; Tricks</a>
    </li>
    <li>
      <a href="../articles/migration.html">Migration Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/plumber/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Package Plumber Router</h1>
    <small class="dont-index">Source: <a href='https://github.com/rstudio/plumber/blob/master/R/plumber.R'><code>R/plumber.R</code></a></small>
    <div class="hidden name"><code>Plumber.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Package Plumber Router</p>
<p>Package Plumber Router</p>
    </div>



    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Routers are the core request handler in plumber. A router is responsible for
taking an incoming request, submitting it through the appropriate filters and
eventually to a corresponding endpoint, if one is found.</p>
<p>See <a href='https://www.rplumber.io/articles/programmatic-usage.html'>https://www.rplumber.io/articles/programmatic-usage.html</a> for additional
details on the methods available on this object.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='pr.html'>pr()</a></code>,
<code><a href='pr_run.html'>pr_run()</a></code>,
<code><a href='pr_handle.html'>pr_get()</a></code>, <code><a href='pr_handle.html'>pr_post()</a></code>,
<code><a href='pr_mount.html'>pr_mount()</a></code>,
<code><a href='pr_hook.html'>pr_hook()</a></code>, <code><a href='pr_hook.html'>pr_hooks()</a></code>, <code><a href='pr_cookie.html'>pr_cookie()</a></code>,
<code><a href='pr_filter.html'>pr_filter()</a></code>,
<code><a href='pr_set_api_spec.html'>pr_set_api_spec()</a></code>, <code><a href='pr_set_docs.html'>pr_set_docs()</a></code>,
<code><a href='pr_set_serializer.html'>pr_set_serializer()</a></code>, <code><a href='pr_set_parsers.html'>pr_set_parsers()</a></code>,
<code><a href='pr_set_404.html'>pr_set_404()</a></code>, <code><a href='pr_set_error.html'>pr_set_error()</a></code>,
<code><a href='pr_set_debug.html'>pr_set_debug()</a></code>,
<code><a href='pr_set_docs_callback.html'>pr_set_docs_callback()</a></code></p></div>
    <h2 class="hasAnchor" id="super-class"><a class="anchor" href="#super-class"></a>Super class</h2>

    <p><code><a href='Hookable.html'>plumber::Hookable</a></code> -&gt; <code>Plumber</code></p>
    <h2 class="hasAnchor" id="active-bindings"><a class="anchor" href="#active-bindings"></a>Active bindings</h2>

    <p><div class="r6-active-bindings"></p><dl>
<dt><code>endpoints</code></dt><dd><p>plumber router endpoints read-only</p></dd>

<dt><code>filters</code></dt><dd><p>plumber router filters read-only</p></dd>

<dt><code>mounts</code></dt><dd><p>plumber router mounts read-only</p></dd>

<dt><code>environment</code></dt><dd><p>plumber router environment read-only</p></dd>

<dt><code>routes</code></dt><dd><p>plumber router routes read-only</p></dd>

</dl><p></div></p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Public methods</h3>

<ul>
<li><p><a href='#method-new'><code>Plumber$new()</code></a></p></li>
<li><p><a href='#method-run'><code>Plumber$run()</code></a></p></li>
<li><p><a href='#method-mount'><code>Plumber$mount()</code></a></p></li>
<li><p><a href='#method-unmount'><code>Plumber$unmount()</code></a></p></li>
<li><p><a href='#method-registerHook'><code>Plumber$registerHook()</code></a></p></li>
<li><p><a href='#method-handle'><code>Plumber$handle()</code></a></p></li>
<li><p><a href='#method-removeHandle'><code>Plumber$removeHandle()</code></a></p></li>
<li><p><a href='#method-print'><code>Plumber$print()</code></a></p></li>
<li><p><a href='#method-serve'><code>Plumber$serve()</code></a></p></li>
<li><p><a href='#method-route'><code>Plumber$route()</code></a></p></li>
<li><p><a href='#method-call'><code>Plumber$call()</code></a></p></li>
<li><p><a href='#method-onHeaders'><code>Plumber$onHeaders()</code></a></p></li>
<li><p><a href='#method-onWSOpen'><code>Plumber$onWSOpen()</code></a></p></li>
<li><p><a href='#method-setSerializer'><code>Plumber$setSerializer()</code></a></p></li>
<li><p><a href='#method-setParsers'><code>Plumber$setParsers()</code></a></p></li>
<li><p><a href='#method-set404Handler'><code>Plumber$set404Handler()</code></a></p></li>
<li><p><a href='#method-setErrorHandler'><code>Plumber$setErrorHandler()</code></a></p></li>
<li><p><a href='#method-setDocs'><code>Plumber$setDocs()</code></a></p></li>
<li><p><a href='#method-setDocsCallback'><code>Plumber$setDocsCallback()</code></a></p></li>
<li><p><a href='#method-setDebug'><code>Plumber$setDebug()</code></a></p></li>
<li><p><a href='#method-getDebug'><code>Plumber$getDebug()</code></a></p></li>
<li><p><a href='#method-filter'><code>Plumber$filter()</code></a></p></li>
<li><p><a href='#method-setApiSpec'><code>Plumber$setApiSpec()</code></a></p></li>
<li><p><a href='#method-getApiSpec'><code>Plumber$getApiSpec()</code></a></p></li>
<li><p><a href='#method-addEndpoint'><code>Plumber$addEndpoint()</code></a></p></li>
<li><p><a href='#method-addAssets'><code>Plumber$addAssets()</code></a></p></li>
<li><p><a href='#method-addFilter'><code>Plumber$addFilter()</code></a></p></li>
<li><p><a href='#method-addGlobalProcessor'><code>Plumber$addGlobalProcessor()</code></a></p></li>
<li><p><a href='#method-openAPIFile'><code>Plumber$openAPIFile()</code></a></p></li>
<li><p><a href='#method-swaggerFile'><code>Plumber$swaggerFile()</code></a></p></li>
<li><p><a href='#method-clone'><code>Plumber$clone()</code></a></p></li>
</ul>
<p><details open ><summary>Inherited methods</summary>
<ul>
<li><p><span class="pkg-link" data-pkg="plumber" data-topic="Hookable" data-id="registerHooks"><a href='../../plumber/html/Hookable.html#method-registerHooks'><code>plumber::Hookable$registerHooks()</code></a></span></p></li>
</ul>
</details>

<hr>
<a id="method-new"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>new()</code></h3>
<p>Create a new <code>Plumber</code> router</p>
<p>See also <code><a href='plumb.html'>plumb()</a></code>, <code><a href='pr.html'>pr()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span>file <span class='op'>=</span> <span class='cn'>NULL</span>, filters <span class='op'>=</span> <span class='va'>defaultPlumberFilters</span>, <span class='va'>envir</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>file</code></dt><dd><p>path to file to plumb</p></dd>

<dt><code>filters</code></dt><dd><p>a list of Plumber filters</p></dd>

<dt><code>envir</code></dt><dd><p>an environment to be used as the enclosure for the routers execution</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>A new <code>Plumber</code> router</p>
<p><hr>
<a id="method-run"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>run()</code></h3>
<p>Start a server using <code>plumber</code> object.</p>
<p>See also: <code><a href='pr_run.html'>pr_run()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>run</span><span class='op'>(</span>
  host <span class='op'>=</span> <span class='st'>"127.0.0.1"</span>,
  port <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"plumber.port"</span>, <span class='cn'>NULL</span><span class='op'>)</span>,
  swagger <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Deprecated.html'>deprecated</a></span><span class='op'>(</span><span class='op'>)</span>,
  debug <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Deprecated.html'>deprecated</a></span><span class='op'>(</span><span class='op'>)</span>,
  swaggerCallback <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Deprecated.html'>deprecated</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>host</code></dt><dd><p>a string that is a valid IPv4 or IPv6 address that is owned by
this server, which the application will listen on. "0.0.0.0" represents
all IPv4 addresses and "::/0" represents all IPv6 addresses.</p></dd>

<dt><code>port</code></dt><dd><p>a number or integer that indicates the server port that should
be listened on. Note that on most Unix-like systems including Linux and
Mac OS X, port numbers smaller than 1025 require root privileges.This value does not need to be explicitly assigned. To explicitly set it, see <code><a href='options_plumber.html'>options_plumber()</a></code>.</p></dd>

<dt><code>swagger</code></dt><dd><p>Deprecated. See <code>$setDocs(docs)</code> or <code>$setApiSpec()</code></p></dd>

<dt><code>debug</code></dt><dd><p>Deprecated. See <code>$setDebug()</code></p></dd>

<dt><code>swaggerCallback</code></dt><dd><p>Deprecated. See <code>$setDocsCallback()</code></p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-mount"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>mount()</code></h3>
<p>Mount a Plumber router</p>
<p>Plumber routers can be “nested” by mounting one into another
using the <code>mount()</code> method. This allows you to compartmentalize your API
by paths which is a great technique for decomposing large APIs into smaller files.</p>
<p>See also: <code><a href='pr_mount.html'>pr_mount()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>mount</span><span class='op'>(</span><span class='va'>path</span>, <span class='va'>router</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>path</code></dt><dd><p>a character string. Where to mount router.</p></dd>

<dt><code>router</code></dt><dd><p>a Plumber router. Router to be mounted.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
root &lt;- pr()

users &lt;- Plumber$new("users.R")
root$mount("/users", users)

products &lt;- Plumber$new("products.R")
root$mount("/products", products)
}
</pre><p></div></p>

<p><hr>
<a id="method-unmount"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>unmount()</code></h3>
<p>Unmount a Plumber router</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>unmount</span><span class='op'>(</span><span class='va'>path</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>path</code></dt><dd><p>a character string. Where to unmount router.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-registerHook"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>registerHook()</code></h3>
<p>Register a hook</p>
<p>Plumber routers support the notion of "hooks" that can be registered
to execute some code at a particular point in the lifecycle of a request.
Plumber routers currently support four hooks:</p><ol>
<li><p><code>preroute(data, req, res)</code></p></li>
<li><p><code>postroute(data, req, res, value)</code></p></li>
<li><p><code>preserialize(data, req, res, value)</code></p></li>
<li><p><code>postserialize(data, req, res, value)</code></p></li>
</ol><p>In all of the above you have access to a disposable environment in the <code>data</code>
parameter that is created as a temporary data store for each request. Hooks
can store temporary data in these hooks that can be reused by other hooks
processing this same request.</p>
<p>One feature when defining hooks in Plumber routers is the ability to modify
the returned value. The convention for such hooks is: any function that accepts
a parameter named <code>value</code> is expected to return the new value. This could
be an unmodified version of the value that was passed in, or it could be a
mutated value. But in either case, if your hook accepts a parameter
named <code>value</code>, whatever your hook returns will be used as the new value
for the response.</p>
<p>You can add hooks using the <code>registerHook</code> method, or you can add multiple
hooks at once using the <code>registerHooks</code> method which takes a name list in
which the names are the names of the hooks, and the values are the
handlers themselves.</p>
<p>See also: <code><a href='pr_hook.html'>pr_hook()</a></code>, <code><a href='pr_hook.html'>pr_hooks()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>registerHook</span><span class='op'>(</span>
  stage <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"preroute"</span>, <span class='st'>"postroute"</span>, <span class='st'>"preserialize"</span>, <span class='st'>"postserialize"</span>, <span class='st'>"exit"</span><span class='op'>)</span>,
  <span class='va'>handler</span>
<span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>stage</code></dt><dd><p>a character string. Point in the lifecycle of a request.</p></dd>

<dt><code>handler</code></dt><dd><p>a hook function.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
pr &lt;- pr()
pr$registerHook("preroute", function(req){
  cat("Routing a request for", req$PATH_INFO, "...\n")
})
pr$registerHooks(list(
  preserialize=function(req, value){
    print("About to serialize this value:")
    print(value)

    # Must return the value since we took one in. Here we're not choosing
    # to mutate it, but we could.
    value
  },
  postserialize=function(res){
    print("We serialized the value as:")
    print(res$body)
  }
))

pr$handle("GET", "/", function(){ 123 })
}
</pre><p></div></p>

<p><hr>
<a id="method-handle"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>handle()</code></h3>
<p>Define endpoints</p>
<p>The “handler” functions that you define in these handle calls
are identical to the code you would have defined in your plumber.R file
if you were using annotations to define your API. The handle() method
takes additional arguments that allow you to control nuanced behavior
of the endpoint like which filter it might preempt or which serializer
it should use.</p>
<p>See also: <code><a href='pr_handle.html'>pr_handle()</a></code>, <code><a href='pr_handle.html'>pr_get()</a></code>, <code><a href='pr_handle.html'>pr_post()</a></code>, <code><a href='pr_handle.html'>pr_put()</a></code>, <code><a href='pr_handle.html'>pr_delete()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>handle</span><span class='op'>(</span>
  <span class='va'>methods</span>,
  <span class='va'>path</span>,
  <span class='va'>handler</span>,
  <span class='va'>preempt</span>,
  <span class='va'>serializer</span>,
  <span class='va'>parsers</span>,
  <span class='va'>endpoint</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>methods</code></dt><dd><p>a character string. http method.</p></dd>

<dt><code>path</code></dt><dd><p>a character string. Api endpoints</p></dd>

<dt><code>handler</code></dt><dd><p>a handler function.</p></dd>

<dt><code>preempt</code></dt><dd><p>a preempt function.</p></dd>

<dt><code>serializer</code></dt><dd><p>a serializer function.</p></dd>

<dt><code>parsers</code></dt><dd><p>a named list of parsers.</p></dd>

<dt><code>endpoint</code></dt><dd><p>a <code>PlumberEndpoint</code> object.</p></dd>

<dt><code>...</code></dt><dd><p>additional arguments for <a href='PlumberEndpoint.html'>PlumberEndpoint</a> <code>new</code> method (namely <code>lines</code>, <code>params</code>, <code>comments</code>, <code>responses</code> and <code>tags</code>. Excludes <code>envir</code>).</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
pr &lt;- pr()
pr$handle("GET", "/", function(){
  "&lt;html&gt;&lt;h1&gt;Programmatic Plumber!&lt;/h1&gt;&lt;/html&gt;"
}, serializer=plumber::serializer_html())
}
</pre><p></div></p>

<p><hr>
<a id="method-removeHandle"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>removeHandle()</code></h3>
<p>Remove endpoints</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>removeHandle</span><span class='op'>(</span><span class='va'>methods</span>, <span class='va'>path</span>, preempt <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>methods</code></dt><dd><p>a character string. http method.</p></dd>

<dt><code>path</code></dt><dd><p>a character string. Api endpoints</p></dd>

<dt><code>preempt</code></dt><dd><p>a preempt function.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-print"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code></h3>
<p>Print representation of plumber router.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>print</span><span class='op'>(</span>prefix <span class='op'>=</span> <span class='st'>""</span>, topLevel <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>prefix</code></dt><dd><p>a character string. Prefix to append to representation.</p></dd>

<dt><code>topLevel</code></dt><dd><p>a logical value. When method executed on top level
router, set to <code>TRUE</code>.</p></dd>

<dt><code>...</code></dt><dd><p>additional arguments for recursive calls</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Returns</h4>
<p>A terminal friendly representation of a plumber router.</p>
<p><hr>
<a id="method-serve"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>serve()</code></h3>
<p>Serve a request</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>serve</span><span class='op'>(</span><span class='va'>req</span>, <span class='va'>res</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>req</code></dt><dd><p>request object</p></dd>

<dt><code>res</code></dt><dd><p>response object</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-route"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>route()</code></h3>
<p>Route a request</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>route</span><span class='op'>(</span><span class='va'>req</span>, <span class='va'>res</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>req</code></dt><dd><p>request object</p></dd>

<dt><code>res</code></dt><dd><p>response object</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-call"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code><a href='https://rdrr.io/r/base/call.html'>call()</a></code></h3>
<p><span class="pkg">httpuv</span> interface call function. (Required for <span class="pkg">httpuv</span>)</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>call</span><span class='op'>(</span><span class='va'>req</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>req</code></dt><dd><p>request object</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-onHeaders"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>onHeaders()</code></h3>
<p>httpuv interface onHeaders function. (Required for <span class="pkg">httpuv</span>)</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>onHeaders</span><span class='op'>(</span><span class='va'>req</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>req</code></dt><dd><p>request object</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-onWSOpen"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>onWSOpen()</code></h3>
<p>httpuv interface onWSOpen function. (Required for <span class="pkg">httpuv</span>)</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>onWSOpen</span><span class='op'>(</span><span class='va'>ws</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>ws</code></dt><dd><p>WebSocket object</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-setSerializer"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>setSerializer()</code></h3>
<p>Sets the default serializer of the router.</p>
<p>See also: <code><a href='pr_set_serializer.html'>pr_set_serializer()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>setSerializer</span><span class='op'>(</span><span class='va'>serializer</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>serializer</code></dt><dd><p>a serializer function</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
pr &lt;- pr()
pr$setSerializer(serializer_unboxed_json())
}
</pre><p></div></p>

<p><hr>
<a id="method-setParsers"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>setParsers()</code></h3>
<p>Sets the default parsers of the router. Initialized to <code><a href='https://rdrr.io/r/base/c.html'>c("json", "form", "text", "octet", "multi")</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>setParsers</span><span class='op'>(</span><span class='va'>parsers</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>parsers</code></dt><dd><p>Can be one of:
<ul>
<li><p>A <code>NULL</code> value</p></li>
<li><p>A character vector of parser names</p></li>
<li><p>A named <code><a href='https://rdrr.io/r/base/list.html'>list()</a></code> whose keys are parser names names and values are arguments to be applied with <code><a href='https://rdrr.io/r/base/do.call.html'>do.call()</a></code></p></li>
<li><p>A <code>TRUE</code> value, which will default to combining all parsers. This is great for seeing what is possible, but not great for security purposes</p></li>
</ul>If the parser name <code>"all"</code> is found in any character value or list name, all remaining parsers will be added.
When using a list, parser information already defined will maintain their existing argument values.  All remaining parsers will use their default arguments.Example:<pre><span class='co'># provide a character string</span>
<span class='va'>parsers</span> <span class='op'>=</span> <span class='st'>"json"</span><span class='co'># provide a named list with no arguments</span>
<span class='va'>parsers</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>json <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='co'># provide a named list with arguments; include `rds`</span>
<span class='va'>parsers</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>json <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>simplifyVector <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>, rds <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='co'># default plumber parsers</span>
<span class='va'>parsers</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"json"</span>, <span class='st'>"form"</span>, <span class='st'>"text"</span>, <span class='st'>"octet"</span>, <span class='st'>"multi"</span><span class='op'>)</span>
</pre></p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-set404Handler"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>set404Handler()</code></h3>
<p>Sets the handler that gets called if an
incoming request can’t be served by any filter, endpoint, or sub-router.</p>
<p>See also: <code><a href='pr_set_404.html'>pr_set_404()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>set404Handler</span><span class='op'>(</span><span class='va'>fun</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>fun</code></dt><dd><p>a handler function.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
pr &lt;- pr()
pr$set404Handler(function(req, res) {cat(req$PATH_INFO)})
}
</pre><p></div></p>

<p><hr>
<a id="method-setErrorHandler"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>setErrorHandler()</code></h3>
<p>Sets the error handler which gets invoked if any filter or
endpoint generates an error.</p>
<p>See also: <code><a href='pr_set_404.html'>pr_set_404()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>setErrorHandler</span><span class='op'>(</span><span class='va'>fun</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>fun</code></dt><dd><p>a handler function.</p></dd>

</dl><p></div></p>
<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Examples</h4>
<p><div class="r example copy"></p><pre>\dontrun{
pr &lt;- pr()
pr$setErrorHandler(function(req, res, err) {
  message("Found error: ")
  str(err)
})
}
</pre><p></div></p>

<p><hr>
<a id="method-setDocs"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>setDocs()</code></h3>
<p>Set visual documentation to use for API</p>
<p>See also: <code><a href='pr_set_docs.html'>pr_set_docs()</a></code>, <code><a href='register_docs.html'>register_docs()</a></code>, <code><a href='register_docs.html'>registered_docs()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>setDocs</span><span class='op'>(</span>docs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"plumber.docs"</span>, <span class='cn'>TRUE</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>docs</code></dt><dd><p>a character value or a logical value. See <code><a href='pr_set_docs.html'>pr_set_docs()</a></code> for examples.
If using <code><a href='options_plumber.html'>options_plumber()</a></code>, the value must be set before initializing your Plumber router.</p></dd>

<dt><code>...</code></dt><dd><p>Other params to be passed to <code>docs</code> functions.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-setDocsCallback"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>setDocsCallback()</code></h3>
<p>Set a callback to notify where the API's visual documentation is located.</p>
<p>When set, it will be called with a character string corresponding
to the API docs url. This allows RStudio to open <code>swagger</code> docs when a
Plumber router <code><a href='pr_run.html'>pr_run()</a></code> method is executed.</p>
<p>If using <code><a href='options_plumber.html'>options_plumber()</a></code>, the value must be set before initializing your Plumber router.</p>
<p>See also: <code><a href='pr_set_docs_callback.html'>pr_set_docs_callback()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>setDocsCallback</span><span class='op'>(</span>callback <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"plumber.docs.callback"</span>, <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>callback</code></dt><dd><p>a callback function for taking action on the docs url. (Also accepts <code>NULL</code> values to disable the <code>callback</code>.)</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-setDebug"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>setDebug()</code></h3>
<p>Set debug value to include error messages</p>
<p>See also: <code>$getDebug()</code> and <code><a href='pr_set_debug.html'>pr_set_debug()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>setDebug</span><span class='op'>(</span>debug <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>debug</code></dt><dd><p><code>TRUE</code> provides more insight into your API errors.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-getDebug"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>getDebug()</code></h3>
<p>Retrieve the <code>debug</code> value.</p>
<p>See also: <code>$getDebug()</code> and <code><a href='pr_set_debug.html'>pr_set_debug()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>getDebug</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-filter"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code><a href='https://rdrr.io/r/stats/filter.html'>filter()</a></code></h3>
<p>Add a filter to plumber router</p>
<p>See also: <code><a href='pr_filter.html'>pr_filter()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>filter</span><span class='op'>(</span><span class='va'>name</span>, <span class='va'>expr</span>, <span class='va'>serializer</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>name</code></dt><dd><p>a character string. Name of filter</p></dd>

<dt><code>expr</code></dt><dd><p>an expr that resolve to a filter function or a filter function</p></dd>

<dt><code>serializer</code></dt><dd><p>a serializer function</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-setApiSpec"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>setApiSpec()</code></h3>
<p>Add a function to customize what is returned in <code>$getApiSpec()</code>.</p>
<p>Note, the returned value will be sent through <code><a href='serializer_headers.html'>serializer_unboxed_json()</a></code> which will turn all length 1 vectors into atomic values.
To force a vector to serialize to an array of size 1, be sure to call <code><a href='https://rdrr.io/r/base/list.html'>as.list()</a></code> on your value. <code><a href='https://rdrr.io/r/base/list.html'>list()</a></code> objects are always serialized to an array value.</p>
<p>See also: <code><a href='pr_set_api_spec.html'>pr_set_api_spec()</a></code></p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>setApiSpec</span><span class='op'>(</span>api <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>api</code></dt><dd><p>This can be
<ul>
<li><p>an OpenAPI Specification formatted list object</p></li>
<li><p>a function that accepts the OpenAPI Specification autogenerated by <code>plumber</code> and returns a OpenAPI Specification formatted list object.</p></li>
</ul>The value returned will not be validated for OAS compatibility.</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-getApiSpec"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>getApiSpec()</code></h3>
<p>Retrieve openAPI file</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>getApiSpec</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-addEndpoint"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>addEndpoint()</code></h3>
<p>addEndpoint has been deprecated in v0.4.0 and will be removed in a coming release. Please use <code>handle()</code> instead.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>addEndpoint</span><span class='op'>(</span>
  <span class='va'>verbs</span>,
  <span class='va'>path</span>,
  <span class='va'>expr</span>,
  <span class='va'>serializer</span>,
  <span class='va'>processors</span>,
  preempt <span class='op'>=</span> <span class='cn'>NULL</span>,
  params <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>comments</span>
<span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>verbs</code></dt><dd><p>verbs</p></dd>

<dt><code>path</code></dt><dd><p>path</p></dd>

<dt><code>expr</code></dt><dd><p>expr</p></dd>

<dt><code>serializer</code></dt><dd><p>serializer</p></dd>

<dt><code>processors</code></dt><dd><p>processors</p></dd>

<dt><code>preempt</code></dt><dd><p>preempt</p></dd>

<dt><code>params</code></dt><dd><p>params</p></dd>

<dt><code>comments</code></dt><dd><p>comments</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-addAssets"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>addAssets()</code></h3>
<p>addAssets has been deprecated in v0.4.0 and will be removed in a coming release. Please use <code>mount</code> and <code>PlumberStatic$new()</code> instead.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>addAssets</span><span class='op'>(</span><span class='va'>dir</span>, path <span class='op'>=</span> <span class='st'>"/public"</span>, options <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>dir</code></dt><dd><p>dir</p></dd>

<dt><code>path</code></dt><dd><p>path</p></dd>

<dt><code>options</code></dt><dd><p>options</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-addFilter"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>addFilter()</code></h3>
<p><code>$addFilter()</code> has been deprecated in v0.4.0 and will be removed in a coming release. Please use <code>$filter()</code> instead.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>addFilter</span><span class='op'>(</span><span class='va'>name</span>, <span class='va'>expr</span>, <span class='va'>serializer</span>, <span class='va'>processors</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>name</code></dt><dd><p>name</p></dd>

<dt><code>expr</code></dt><dd><p>expr</p></dd>

<dt><code>serializer</code></dt><dd><p>serializer</p></dd>

<dt><code>processors</code></dt><dd><p>processors</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-addGlobalProcessor"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>addGlobalProcessor()</code></h3>
<p><code>$addGlobalProcessor()</code> has been deprecated in v0.4.0 and will be removed in a coming release. Please use <code>$registerHook</code>(s) instead.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>addGlobalProcessor</span><span class='op'>(</span><span class='va'>proc</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>proc</code></dt><dd><p>proc</p></dd>

</dl><p></div></p>
<p><hr>
<a id="method-openAPIFile"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>openAPIFile()</code></h3>
<p>Deprecated. Retrieve openAPI file</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>openAPIFile</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-swaggerFile"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>swaggerFile()</code></h3>
<p>Deprecated. Retrieve openAPI file</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>swaggerFile</span><span class='op'>(</span><span class='op'>)</span></pre><p></div></p>

<p><hr>
<a id="method-clone"></a></p><h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Method <code>clone()</code></h3>
<p>The objects of this class are cloneable with this method.</p><h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Usage</h4>
<p><div class="r"></p><pre><span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>clone</span><span class='op'>(</span>deep <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre><p></div></p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Arguments</h4>
<p><div class="arguments"></p><dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p></dd>

</dl><p></div></p>



    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `Plumber$mount`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>root</span> <span class='op'>&lt;-</span> <span class='fu'><a href='pr.html'>pr</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>users</span> <span class='op'>&lt;-</span> <span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='st'>"users.R"</span><span class='op'>)</span>
<span class='va'>root</span><span class='op'>$</span><span class='fu'>mount</span><span class='op'>(</span><span class='st'>"/users"</span>, <span class='va'>users</span><span class='op'>)</span>

<span class='va'>products</span> <span class='op'>&lt;-</span> <span class='va'>Plumber</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='st'>"products.R"</span><span class='op'>)</span>
<span class='va'>root</span><span class='op'>$</span><span class='fu'>mount</span><span class='op'>(</span><span class='st'>"/products"</span>, <span class='va'>products</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `Plumber$registerHook`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>pr</span> <span class='op'>&lt;-</span> <span class='fu'><a href='pr.html'>pr</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>pr</span><span class='op'>$</span><span class='fu'>registerHook</span><span class='op'>(</span><span class='st'>"preroute"</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>req</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"Routing a request for"</span>, <span class='va'>req</span><span class='op'>$</span><span class='va'>PATH_INFO</span>, <span class='st'>"...\n"</span><span class='op'>)</span>
<span class='op'>}</span><span class='op'>)</span>
<span class='va'>pr</span><span class='op'>$</span><span class='fu'>registerHooks</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
  preserialize<span class='op'>=</span><span class='kw'>function</span><span class='op'>(</span><span class='va'>req</span>, <span class='va'>value</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='st'>"About to serialize this value:"</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span>

    <span class='co'># Must return the value since we took one in. Here we're not choosing</span>
    <span class='co'># to mutate it, but we could.</span>
    <span class='va'>value</span>
  <span class='op'>}</span>,
  postserialize<span class='op'>=</span><span class='kw'>function</span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='st'>"We serialized the value as:"</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>$</span><span class='va'>body</span><span class='op'>)</span>
  <span class='op'>}</span>
<span class='op'>)</span><span class='op'>)</span>

<span class='va'>pr</span><span class='op'>$</span><span class='fu'>handle</span><span class='op'>(</span><span class='st'>"GET"</span>, <span class='st'>"/"</span>, <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span><span class='op'>{</span> <span class='fl'>123</span> <span class='op'>}</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `Plumber$handle`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>pr</span> <span class='op'>&lt;-</span> <span class='fu'><a href='pr.html'>pr</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>pr</span><span class='op'>$</span><span class='fu'>handle</span><span class='op'>(</span><span class='st'>"GET"</span>, <span class='st'>"/"</span>, <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span><span class='op'>{</span>
  <span class='st'>"&lt;html&gt;&lt;h1&gt;Programmatic Plumber!&lt;/h1&gt;&lt;/html&gt;"</span>
<span class='op'>}</span>, serializer<span class='op'>=</span><span class='fu'>plumber</span><span class='fu'>::</span><span class='fu'><a href='serializer_headers.html'>serializer_html</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `Plumber$setSerializer`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>pr</span> <span class='op'>&lt;-</span> <span class='fu'><a href='pr.html'>pr</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>pr</span><span class='op'>$</span><span class='fu'>setSerializer</span><span class='op'>(</span><span class='fu'><a href='serializer_headers.html'>serializer_unboxed_json</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `Plumber$set404Handler`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>pr</span> <span class='op'>&lt;-</span> <span class='fu'><a href='pr.html'>pr</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>pr</span><span class='op'>$</span><span class='fu'>set404Handler</span><span class='op'>(</span><span class='kw'>function</span><span class='op'>(</span><span class='va'>req</span>, <span class='va'>res</span><span class='op'>)</span> <span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='va'>req</span><span class='op'>$</span><span class='va'>PATH_INFO</span><span class='op'>)</span><span class='op'>}</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## ------------------------------------------------</span>
<span class='co'>## Method `Plumber$setErrorHandler`</span>
<span class='co'>## ------------------------------------------------</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>pr</span> <span class='op'>&lt;-</span> <span class='fu'><a href='pr.html'>pr</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>pr</span><span class='op'>$</span><span class='fu'>setErrorHandler</span><span class='op'>(</span><span class='kw'>function</span><span class='op'>(</span><span class='va'>req</span>, <span class='va'>res</span>, <span class='va'>err</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/message.html'>message</a></span><span class='op'>(</span><span class='st'>"Found error: "</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>err</span><span class='op'>)</span>
<span class='op'>}</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://schloerke.com/'>Barret Schloerke</a>, <a href='https://trestletech.com/'>Jeff Allen</a>,  RStudio.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '',
    indexName: '',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


